<?xml version="1.0"?>
<!--
/**
 * Copyright Â© eComBricks. All rights reserved.
 * See LICENSE.txt for license details.
 */
-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:ObjectManager/etc/config.xsd">
    <type name="Magento\Sales\Helper\Reorder">
        <plugin name="ecombricksVendorSalesPluginHelperReorder" type="Ecombricks\VendorSales\Plugin\Helper\Reorder" sortOrder="-100" />
    </type>
    <type name="Magento\Backend\Model\Session\Quote">
        <plugin name="ecombricksVendorSalesPluginModelBackendSessionQuote" type="Ecombricks\VendorSales\Plugin\Model\Backend\Session\Quote" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Model\AdminOrder\Create">
        <plugin name="ecombricksVendorSalesPluginModelAdminOrderCreate" type="Ecombricks\VendorSales\Plugin\Model\AdminOrder\Create" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Model\OrderFactory">
        <plugin name="ecombricksVendorSalesPluginModelOrderFactory" type="Ecombricks\VendorSales\Plugin\Model\OrderFactory" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Model\ResourceModel\Order\CollectionFactory">
        <plugin name="ecombricksVendorSalesPluginModelResourceModelOrderCollectionFactory" type="Ecombricks\VendorSales\Plugin\Model\ResourceModel\Order\CollectionFactory" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Model\Order\CreditmemoFactory">
        <plugin name="ecombricksVendorSalesPluginModelOrderCreditmemoFactory" type="Ecombricks\VendorSales\Plugin\Model\Order\CreditmemoFactory" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Model\ResourceModel\Order\Creditmemo\CollectionFactory">
        <plugin name="ecombricksVendorSalesPluginModelResourceModelOrderCreditmemoCollectionFactory" type="Ecombricks\VendorSales\Plugin\Model\ResourceModel\Order\Creditmemo\CollectionFactory" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Model\Order\InvoiceFactory">
        <plugin name="ecombricksVendorSalesPluginModelOrderInvoice" type="Ecombricks\VendorSales\Plugin\Model\Order\InvoiceFactory" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Model\ResourceModel\Order\Invoice\CollectionFactory">
        <plugin name="ecombricksVendorSalesPluginModelResourceModelOrderInvoiceCollectionFactory" type="Ecombricks\VendorSales\Plugin\Model\ResourceModel\Order\Invoice\CollectionFactory" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Model\Order\ShipmentFactory">
        <plugin name="ecombricksVendorSalesPluginModelOrderShipmentFactory" type="Ecombricks\VendorSales\Plugin\Model\Order\ShipmentFactory" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Model\ResourceModel\Order\Shipment\CollectionFactory">
        <plugin name="ecombricksVendorSalesPluginModelResourceModelOrderShipmentCollectionFactory" type="Ecombricks\VendorSales\Plugin\Model\ResourceModel\Order\Shipment\CollectionFactory" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Model\Order\Payment\Transaction">
        <plugin name="ecombricksVendorSalesPluginModelOrderPaymentTransaction" type="Ecombricks\VendorSales\Plugin\Model\Order\Payment\Transaction" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Model\Order\Payment\TransactionFactory">
        <plugin name="ecombricksVendorSalesPluginModelOrderPaymentTransactionFactory" type="Ecombricks\VendorSales\Plugin\Model\Order\Payment\TransactionFactory" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Model\ResourceModel\Order\Payment\Transaction\CollectionFactory">
        <plugin name="ecombricksVendorSalesPluginModelResourceModelOrderPaymentTransactionCollectionFactory" type="Ecombricks\VendorSales\Plugin\Model\ResourceModel\Order\Payment\Transaction\CollectionFactory" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Model\Order\Email\Sender\CreditmemoCommentSender">
        <plugin name="ecombricksVendorSalesPluginModelOrderEmailSenderCreditmemoCommentSender" type="Ecombricks\VendorSales\Plugin\Model\Order\Email\Sender\CreditmemoCommentSender" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Model\Order\Email\Sender\CreditmemoSender">
        <plugin name="ecombricksVendorSalesPluginModelOrderEmailSenderCreditmemoSender" type="Ecombricks\VendorSales\Plugin\Model\Order\Email\Sender\CreditmemoSender" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Model\Order\Email\Sender\InvoiceCommentSender">
        <plugin name="ecombricksVendorSalesPluginModelOrderEmailSenderInvoiceCommentSender" type="Ecombricks\VendorSales\Plugin\Model\Order\Email\Sender\InvoiceCommentSender" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Model\Order\Email\Sender\InvoiceSender">
        <plugin name="ecombricksVendorSalesPluginModelOrderEmailSenderInvoiceSender" type="Ecombricks\VendorSales\Plugin\Model\Order\Email\Sender\InvoiceSender" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Model\Order\Email\Sender\OrderCommentSender">
        <plugin name="ecombricksVendorSalesPluginModelOrderEmailSenderOrderCommentSender" type="Ecombricks\VendorSales\Plugin\Model\Order\Email\Sender\OrderCommentSender" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Model\Order\Email\Sender\OrderSender">
        <plugin name="ecombricksVendorSalesPluginModelOrderEmailSenderOrderSender" type="Ecombricks\VendorSales\Plugin\Model\Order\Email\Sender\OrderSender" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Model\Order\Email\Sender\ShipmentCommentSender">
        <plugin name="ecombricksVendorSalesPluginModelOrderEmailSenderShipmentCommentSender" type="Ecombricks\VendorSales\Plugin\Model\Order\Email\Sender\ShipmentCommentSender" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Model\Order\Email\Sender\ShipmentSender">
        <plugin name="ecombricksVendorSalesPluginModelOrderEmailSenderShipmentSender" type="Ecombricks\VendorSales\Plugin\Model\Order\Email\Sender\ShipmentSender" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Model\Order\Pdf\Invoice">
        <plugin name="ecombricksVendorSalesPluginModelOrderPdfInvoice" type="Ecombricks\VendorSales\Plugin\Model\Order\Pdf\Invoice" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Model\Order\Pdf\Shipment">
        <plugin name="ecombricksVendorSalesPluginModelOrderPdfShipment" type="Ecombricks\VendorSales\Plugin\Model\Order\Pdf\Shipment" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Model\Order\Pdf\Creditmemo">
        <plugin name="ecombricksVendorSalesPluginModelOrderPdfCreditmemo" type="Ecombricks\VendorSales\Plugin\Model\Order\Pdf\Creditmemo" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Block\Adminhtml\Order\Create\Form">
        <plugin name="ecombricksVendorSalesPluginBlockAdminhtmlOrderCreateForm" type="Ecombricks\VendorSales\Plugin\Block\Adminhtml\Order\Create\Form" sortOrder="-100" />
    </type>
    <type name="Magento\Sales\Block\Adminhtml\Order\View\Info">
        <plugin name="ecombricksVendorSalesPluginBlockAdminhtmlOrderViewInfo" type="Ecombricks\VendorSales\Plugin\Block\Adminhtml\Order\View\Info" sortOrder="-100" />
    </type>
    <virtualType name="Ecombricks\VendorSales\Observer\Framework\Model\AbstractModel\AfterLoad" type="Ecombricks\Vendor\Observer\Framework\Model\AbstractModel\AfterLoad\Vendor">
        <arguments>
            <argument name="targetedTypes" xsi:type="array">
                <item name="order" xsi:type="string">Magento\Sales\Model\Order</item>
                <item name="creditmemo" xsi:type="string">Magento\Sales\Model\Order\Creditmemo</item>
                <item name="invoice" xsi:type="string">Magento\Sales\Model\Order\Invoice</item>
                <item name="shipment" xsi:type="string">Magento\Sales\Model\Order\Shipment</item>
                <item name="paymentTransaction" xsi:type="string">Magento\Sales\Model\Order\Payment\Transaction</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="Ecombricks\VendorSales\Observer\Framework\Model\AbstractModel\AfterSave" type="Ecombricks\Vendor\Observer\Framework\Model\AbstractModel\AfterSave\Vendor">
        <arguments>
            <argument name="targetedTypes" xsi:type="array">
                <item name="order" xsi:type="string">Magento\Sales\Model\Order</item>
                <item name="creditmemo" xsi:type="string">Magento\Sales\Model\Order\Creditmemo</item>
                <item name="invoice" xsi:type="string">Magento\Sales\Model\Order\Invoice</item>
                <item name="shipment" xsi:type="string">Magento\Sales\Model\Order\Shipment</item>
                <item name="paymentTransaction" xsi:type="string">Magento\Sales\Model\Order\Payment\Transaction</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="Ecombricks\VendorSales\Observer\Framework\Model\AbstractModel\BeforeSave" type="Ecombricks\Vendor\Observer\Framework\Model\AbstractModel\BeforeSave\Vendor">
        <arguments>
            <argument name="targetedTypes" xsi:type="array">
                <item name="order" xsi:type="string">Magento\Sales\Model\Order</item>
                <item name="creditmemo" xsi:type="string">Magento\Sales\Model\Order\Creditmemo</item>
                <item name="invoice" xsi:type="string">Magento\Sales\Model\Order\Invoice</item>
                <item name="shipment" xsi:type="string">Magento\Sales\Model\Order\Shipment</item>
                <item name="paymentTransaction" xsi:type="string">Magento\Sales\Model\Order\Payment\Transaction</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="Ecombricks\VendorSales\Observer\Framework\Model\ResourceModel\Db\Collection\AbstractCollection\AfterLoad" type="Ecombricks\Vendor\Observer\Framework\Model\ResourceModel\Db\Collection\AbstractCollection\AfterLoad\Vendor">
        <arguments>
            <argument name="targetedTypes" xsi:type="array">
                <item name="order" xsi:type="string">Magento\Sales\Model\ResourceModel\Order\Collection</item>
                <item name="creditmemo" xsi:type="string">Magento\Sales\Model\ResourceModel\Order\Creditmemo\Collection</item>
                <item name="invoice" xsi:type="string">Magento\Sales\Model\ResourceModel\Order\Invoice\Collection</item>
                <item name="shipment" xsi:type="string">Magento\Sales\Model\ResourceModel\Order\Shipment\Collection</item>
                <item name="paymentTransaction" xsi:type="string">Magento\Sales\Model\ResourceModel\Order\Payment\Transaction\Collection</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="Ecombricks\VendorSales\Observer\Framework\Model\ResourceModel\Db\Collection\AbstractCollection\BeforeLoad" type="Ecombricks\Vendor\Observer\Framework\Model\ResourceModel\Db\Collection\AbstractCollection\BeforeLoad\Vendor">
        <arguments>
            <argument name="targetedTypes" xsi:type="array">
                <item name="order" xsi:type="string">Magento\Sales\Model\ResourceModel\Order\Collection</item>
                <item name="creditmemo" xsi:type="string">Magento\Sales\Model\ResourceModel\Order\Creditmemo\Collection</item>
                <item name="invoice" xsi:type="string">Magento\Sales\Model\ResourceModel\Order\Invoice\Collection</item>
                <item name="shipment" xsi:type="string">Magento\Sales\Model\ResourceModel\Order\Shipment\Collection</item>
                <item name="paymentTransaction" xsi:type="string">Magento\Sales\Model\ResourceModel\Order\Payment\Transaction\Collection</item>
                <item name="orderGrid" xsi:type="string">Magento\Sales\Model\ResourceModel\Order\Grid\Collection</item>
                <item name="creditmemoGrid" xsi:type="string">Magento\Sales\Model\ResourceModel\Order\Creditmemo\Grid\Collection</item>
                <item name="invoiceGrid" xsi:type="string">Magento\Sales\Model\ResourceModel\Order\Invoice\Grid\Collection</item>
                <item name="shipmentGrid" xsi:type="string">Magento\Sales\Model\ResourceModel\Order\Shipment\Grid\Collection</item>
                <item name="orderCreditmemoGrid" xsi:type="string">Magento\Sales\Model\ResourceModel\Order\Creditmemo\Order\Grid\Collection</item>
                <item name="orderInvoiceGrid" xsi:type="string">Magento\Sales\Model\ResourceModel\Order\Invoice\Orders\Grid\Collection</item>
                <item name="orderShipmentGrid" xsi:type="string">Magento\Sales\Model\ResourceModel\Order\Shipment\Order\Grid\Collection</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="Magento\Sales\Model\ResourceModel\Order\Grid" type="Magento\Sales\Model\ResourceModel\Grid">
        <arguments>
            <argument name="joins" xsi:type="array">
                <item name="ecombricks_vendor_sales_order" xsi:type="array">
                    <item name="table" xsi:type="string">ecombricks_vendor_sales_order</item>
                    <item name="origin_column" xsi:type="string">entity_id</item>
                    <item name="target_column" xsi:type="string">entity_id</item>
                </item>
            </argument>
            <argument name="columns" xsi:type="array">
                <item name="vendor_id" xsi:type="string">ecombricks_vendor_sales_order.vendor_id</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="ShipmentGridAggregator" type="Magento\Sales\Model\ResourceModel\Grid">
        <arguments>
            <argument name="joins" xsi:type="array">
                <item name="ecombricks_vendor_sales_shipment" xsi:type="array">
                    <item name="table" xsi:type="string">ecombricks_vendor_sales_shipment</item>
                    <item name="origin_column" xsi:type="string">entity_id</item>
                    <item name="target_column" xsi:type="string">entity_id</item>
                </item>
            </argument>
            <argument name="columns" xsi:type="array">
                <item name="vendor_id" xsi:type="string">ecombricks_vendor_sales_shipment.vendor_id</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="CreditmemoGridAggregator" type="Magento\Sales\Model\ResourceModel\Grid">
        <arguments>
            <argument name="joins" xsi:type="array">
                <item name="ecombricks_vendor_sales_creditmemo" xsi:type="array">
                    <item name="table" xsi:type="string">ecombricks_vendor_sales_creditmemo</item>
                    <item name="origin_column" xsi:type="string">entity_id</item>
                    <item name="target_column" xsi:type="string">entity_id</item>
                </item>
            </argument>
            <argument name="columns" xsi:type="array">
                <item name="vendor_id" xsi:type="string">ecombricks_vendor_sales_creditmemo.vendor_id</item>
            </argument>
        </arguments>
    </virtualType>
    <virtualType name="Magento\Sales\Model\ResourceModel\Order\Invoice\Grid" type="Magento\Sales\Model\ResourceModel\Grid">
        <arguments>
            <argument name="joins" xsi:type="array">
                <item name="ecombricks_vendor_sales_invoice" xsi:type="array">
                    <item name="table" xsi:type="string">ecombricks_vendor_sales_invoice</item>
                    <item name="origin_column" xsi:type="string">entity_id</item>
                    <item name="target_column" xsi:type="string">entity_id</item>
                </item>
            </argument>
            <argument name="columns" xsi:type="array">
                <item name="vendor_id" xsi:type="string">ecombricks_vendor_sales_invoice.vendor_id</item>
            </argument>
        </arguments>
    </virtualType>
</config>